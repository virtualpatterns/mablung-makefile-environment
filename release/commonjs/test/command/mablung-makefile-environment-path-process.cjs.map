{"version":3,"sources":["../../../../source/esmodule/test/command/mablung-makefile-environment-path-process.js"],"names":[],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAM,OAAO,GAJb,OAIA;;AAEA,MAAM,qCAAN,SAAoD,4BAApD,CAAkE;AAEhE,EAAA,WAAW,CAAC,SAAS,GAAG,EAAb,EAAiB,MAAM,GAAG,EAA1B,EAA8B;AACvC,UAAM,OAAO,CAAC,OAAR,CAAgB,qDAAhB,CAAN,EAA6E,SAA7E,EAAwF,MAAxF;AAEA,QAAI,IAAI,GAAG,2DAAX;;AACA,qBAAW,aAAX,CAAyB,cAAK,OAAL,CAAa,IAAb,CAAzB;;AAEA,SAAK,OAAL,CAAa,IAAb;AAED;;AAED,EAAA,QAAQ,GAAG;AAET,WAAO,IAAI,OAAJ,CAAa,OAAD,IAAa;AAE9B,UAAI,MAAM,GAAG,IAAb;AAEA,WAAK,EAAL,CAAQ,MAAR,EAAgB,MAAM,GAAI,IAAD,IAAU;AAEjC,aAAK,GAAL,CAAS,MAAT,EAAiB,MAAjB;AACA,QAAA,MAAM,GAAG,IAAT;AAEA,QAAA,OAAO,CAAC,IAAD,CAAP;AAED,OAPD;AASD,KAbM,CAAP;AAeD;;AA7B+D","file":"mablung-makefile-environment-path-process.cjs","sourcesContent":["import FileSystem from 'fs-extra'\nimport { ForkedProcess } from '@virtualpatterns/mablung-worker'\nimport Path from 'path'\n\nconst Require = __require\n\nclass MablungMakefileEnvironmentPathProcess extends ForkedProcess {\n\n  constructor(parameter = {}, option = {}) {\n    super(Require.resolve('../../command/mablung-makefile-environment-path.js'), parameter, option)\n\n    let path = 'process/log/mablung-makefile-environment-path-process.log'\n    FileSystem.ensureDirSync(Path.dirname(path))\n\n    this.writeTo(path)\n\n  }\n\n  whenExit() {\n\n    return new Promise((resolve) => {\n\n      let onExit = null\n\n      this.on('exit', onExit = (code) => {\n\n        this.off('exit', onExit)\n        onExit = null\n\n        resolve(code)\n\n      })\n  \n    })\n\n  }\n  \n}\n\nexport { MablungMakefileEnvironmentPathProcess }"]}