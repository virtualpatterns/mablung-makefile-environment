{"version":3,"sources":["../../../source/esmodule/test/index.test.js"],"names":[],"mappings":"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","file":"index.test.js","sourcesContent":["import FileSystem from 'fs-extra'\nimport JSON5 from 'json5'\nimport Path from 'path'\nimport Test from 'ava'\n\nconst FilePath = __filePath\nconst FolderPath = Path.dirname(FilePath)\nconst Process = process\nconst Require = __require\n\nTest('commonjs', async (test) => {\n  test.true(await FileSystem.pathExists(`${FolderPath}/../../commonjs`))\n})\n\nTest('esmodule', async (test) => {\n  test.true(await FileSystem.pathExists(`${FolderPath}/../../esmodule`))\n})\n\nTest('MAKEFILE_PATH', (test) => {\n  test.deepEqual(Process.env['MAKEFILE_PATH'].split(' '), [\n    Require.resolve('../../../makefile'),\n    Require.resolve('../../../node_modules/@virtualpatterns/mablung-makefile/include/common') ,\n    Require.resolve('../../../node_modules/@virtualpatterns/mablung-makefile/include/build/common') ,\n    Require.resolve('../../../include/build/build'),\n    Require.resolve('../../../node_modules/@virtualpatterns/mablung-makefile/include/build/debug')\n  ])\n})\n\nTest('.babelrc.json', async (test) => {\n  test.false(await FileSystem.pathExists(`${FolderPath}/../../.babelrc.json`))\n})\n\nTest('.eslintrc.json', async (test) => {\n  test.false(await FileSystem.pathExists(`${FolderPath}/../../.eslintrc.json`))\n})\n\nTest('index.js', async (test) => {\n  test.true((await import('./index.js')).OK)\n})\n\nTest('resource/copy/makefile', async (test) => {\n  test.false(await FileSystem.pathExists(`${FolderPath}/resource/copy/makefile`))\n})\n\nTest('resource/copy/index.json', async (test) => {\n  test.true(JSON5.parse(await FileSystem.readFile(Require.resolve('./resource/copy/index.json'), { 'encoding': 'utf-8' })).OK)\n})\n\nTest('resource/ignore/makefile', async (test) => {\n  test.false(await FileSystem.pathExists(`${FolderPath}/resource/ignore/makefile`))\n})\n\nTest('resource/ignore/index.json', async (test) => {\n  test.false(await FileSystem.pathExists(`${FolderPath}/resource/ignore/index.json`))\n})\n"]}